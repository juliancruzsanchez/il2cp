<div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
  <div class="mdl-snackbar__text"></div>
  <button class="mdl-snackbar__action" type="button"></button>
</div>
<h4>In Cycle</h4>
<table class="mdl-data-table mdl-data-table__cell--non-numeric jcs-centered-table">
  <thead>
    <tr>
      <th>Mission Name</th>
    </tr>
  </thead>
  <tbody>{{#each inCycle}}
    <tr>
      <td class="mdl-data-table__cell--non-numeric">{{this}}</td>
      <td>
        <button class="mdl-button mdl-js-button mdl-button--raised" id="{{@index}}-rem">Remove From Cycle</button>&nbsp&nbsp&nbsp&nbsp
        <button class="mdl-button mdl-js-button mdl-button--raised" id="{{@index}}x-run">Run</button></td>

    </tr>
    <script>
      $('#{{@index}}-rem').click(function () {
        console.log('{{this}} clicked');
        $.ajax({
          url: '/removeMission/{{this}}',
          success: function (res) {
            window.location.reload()
          }
        });
      });
      $('#{{@index}}x-run').click(function () {
        console.log('{{this}} clicked');
        $.ajax({
          url: '/missionLoader/{{this}} ',
          success: function (res) {
            var snackbarContainer = document.querySelector('#demo-toast-example');
            var data = {
              message: `Mission {{this}} Loaded Successfully`
            };
            snackbarContainer.MaterialSnackbar.showSnackbar(data);
          }
        })
      })
    </script>
    {{/each}}
  </tbody>
</table><br>
<h4>All Missions</h4>
<table class="mdl-data-table mdl-data-table__cell--non-numeric jcs-centered-table">
  <thead>
    <tr>
      <th>Mission Name</th>
    </tr>
  </thead>
  <tbody>{{#each missions}}
    <tr>
      <td class="mdl-data-table__cell--non-numeric">{{this}}</td>
      <td>
        <button class="mdl-button mdl-js-button mdl-button--raised" id="{{@index}}-add">Add to Cycle</button>&nbsp&nbsp&nbsp&nbsp <button
          class="mdl-button mdl-js-button mdl-button--raised" id="{{@index}}-run">Run</button></td>
    </tr>
    <script>
      $('#{{@index}}-add').click(function () {
        console.log('{{this}} clicked');
        $.ajax({
          url: '/addMission/{{this}}',
          success: function (res) {
            window.location.reload()
          }
        });
      });
      $('#{{@index}}-run').click(function () {
        console.log('{{this}} clicked');
        $.ajax({
          url: '/missionLoader/{{this}} ',
          success: function (res) {
            var snackbarContainer = document.querySelector('#demo-toast-example');
            var data = {
              message: `Mission {{this}} Loaded Successfully`
            };
            snackbarContainer.MaterialSnackbar.showSnackbar(data);
          }
        })
      });
    </script>
    {{/each}}
  </tbody>
</table>